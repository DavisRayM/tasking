sudo: false
dist: trusty
language: python
matrix:
    include:
        - python: 2.7
          env: TOXENV=py27
        - python: 3.5
          env: TOXENV=py35
        - python: 3.6
          env: TOXENV=py36
        - python: 3.6
          env: TOXENV=flake8
        - python: 3.6
          env: TOXENV=pylint
        - python: 3.6
          env: TOXENV=coverage
services:
    - postgresql
addons:
    postgresql: 9.6
before_script:
    - psql -c 'create extension postgis;' -U postgres
    - psql -c 'create database ona_tasking;' -U postgres
install:
    - pip install tox
script: tox
notifications:
    email:
        - tech+travis@ona.io
    slack:
        - onaio:snkNXgprD498qQv4DgRREKJF
